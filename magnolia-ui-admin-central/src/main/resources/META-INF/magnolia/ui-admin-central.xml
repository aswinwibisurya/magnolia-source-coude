<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE module SYSTEM "module.dtd">
<module>
  <name>ui-admin-central</name>
  <displayName>Magnolia Velvet Admin Central</displayName>
  <description>New Magnolia Administration GUI</description>
  <class>info.magnolia.ui.admincentral.module.AdminCentralModule</class>
  <versionHandler>info.magnolia.ui.admincentral.setup.AdminCentralModuleVersionHandler</versionHandler>
  <version>${project.version}</version>

  <components>
    <id>main</id>
    <component>
      <type>info.magnolia.ui.framework.event.SystemEventBus</type>
      <implementation>info.magnolia.ui.framework.event.SimpleSystemEventBus</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.framework.app.registry.ConfiguredAppDescriptorManager</type>
      <implementation>info.magnolia.ui.framework.app.registry.ConfiguredAppDescriptorManager</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.framework.app.registry.AppDescriptorRegistry</type>
      <implementation>info.magnolia.ui.framework.app.registry.AppDescriptorRegistry</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.framework.app.layout.AppLauncherLayoutManager</type>
      <implementation>info.magnolia.ui.framework.app.layout.AppLauncherLayoutManagerImpl</implementation>
    </component>
    <type-mapping>
      <type>info.magnolia.ui.framework.app.AppDescriptor</type>
      <implementation>info.magnolia.ui.framework.app.registry.ConfiguredAppDescriptor</implementation>
    </type-mapping>
    <type-mapping>
      <type>info.magnolia.ui.model.menu.definition.MenuItemDefinition</type>
      <implementation>info.magnolia.ui.model.menu.definition.MenuItemDefinitionImpl</implementation>
    </type-mapping>
  </components>

   <components>
    <id>admin-central</id>
    <component>
      <type>info.magnolia.ui.admincentral.jcr.view.builder.JcrViewBuilderProvider</type>
      <workspace>config</workspace>
      <path>/modules/ui-admin-central/jcrViewBuilderProvider</path>
      <observed>true</observed>
      <scope>singleton</scope>
    </component>
     <component>
      <type>info.magnolia.ui.admincentral.workbench.action.WorkbenchActionFactory</type>
      <workspace>config</workspace>
      <path>/modules/ui-admin-central/workbenchActionFactory</path>
      <observed>true</observed>
      <scope>singleton</scope>
    </component>
     <component>
      <type>info.magnolia.ui.framework.event.EventBus</type>
      <implementation>info.magnolia.ui.framework.event.SimpleEventBus</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.framework.place.PlaceController</type>
      <implementation>info.magnolia.ui.framework.place.PlaceController</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.app.pages.PagesApp</type>
      <implementation>info.magnolia.ui.admincentral.app.pages.PagesApp</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.app.assets.AssetsApp</type>
      <implementation>info.magnolia.ui.admincentral.app.assets.AssetsApp</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.framework.shell.Shell</type>
      <implementation>info.magnolia.ui.admincentral.MagnoliaShell</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.framework.app.AppController</type>
      <implementation>info.magnolia.ui.framework.app.AppControllerImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.shellapp.applauncher.AppLauncherView</type>
      <implementation>info.magnolia.ui.admincentral.shellapp.applauncher.AppLauncherViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.shellapp.pulse.PulseView</type>
      <implementation>info.magnolia.ui.admincentral.shellapp.pulse.PulseViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.shellapp.favorites.FavoritesView</type>
      <implementation>info.magnolia.ui.admincentral.shellapp.favorites.FavoritesViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.app.pages.PagesView</type>
      <implementation>info.magnolia.ui.admincentral.app.pages.PagesViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.app.dialog.DialogTestView</type>
      <implementation>info.magnolia.ui.admincentral.app.dialog.DialogTestViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.MagnoliaShellView</type>
      <implementation>info.magnolia.ui.admincentral.MagnoliaShellViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.MagnoliaShellPresenter</type>
      <implementation>info.magnolia.ui.admincentral.MagnoliaShellPresenter</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.app.assets.AssetsView</type>
      <implementation>info.magnolia.ui.admincentral.app.assets.AssetsViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.dialog.registry.DummyDialogDefinitionManager</type>
      <implementation>info.magnolia.ui.admincentral.dialog.registry.DummyDialogDefinitionManager</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.dialog.DialogPresenterFactory</type>
      <implementation>info.magnolia.ui.admincentral.dialog.DialogPresenterFactoryImpl</implementation>
    </component>
  </components>

  <components>
   <id>default-workbench</id>

    <component>
      <type>info.magnolia.ui.admincentral.workbench.WorkbenchView</type>
      <implementation>info.magnolia.ui.admincentral.workbench.WorkbenchViewImpl</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.admincentral.workbench.Workbench</type>
      <implementation>info.magnolia.ui.admincentral.workbench.Workbench</implementation>
    </component>
    <component>
      <type>info.magnolia.ui.model.menu.definition.MenuItemDefinition</type>
      <implementation>info.magnolia.ui.model.menu.definition.MenuItemDefinitionImpl</implementation>
    </component>
     <component>
      <type>info.magnolia.ui.model.workbench.registry.ConfiguredWorkbenchDefinitionManager</type>
      <implementation>info.magnolia.ui.model.workbench.registry.ConfiguredWorkbenchDefinitionManager</implementation>
    </component>
  </components>

  <dependencies>
    <dependency>
      <name>core</name>
      <version>4.5/*</version>
    </dependency>
    <!-- the dependency is just to ensure order of loading of modules -->
    <dependency>
      <name>adminInterface</name>
      <version>4.5/*</version>
      <optional>true</optional>
    </dependency>
    <dependency>
      <name>cache</name>
      <version>4.5/*</version>
      <optional>true</optional>
    </dependency>
    <dependency>
      <name>groovy</name>
      <version>4.5/*</version>
      <optional>true</optional>
    </dependency>
    <dependency>
      <name>dms</name>
      <version>4.5/*</version>
      <optional>true</optional>
    </dependency>
    <dependency>
      <name>workflow</name>
      <version>4.5/*</version>
      <optional>true</optional>
    </dependency>
    <dependency>
      <name>demo-project</name>
      <version>1.6/*</version>
      <optional>true</optional>
    </dependency>
  </dependencies>

  <servlets>
    <servlet>
      <name>AdminCentral</name>
      <class>info.magnolia.ui.vaadin.integration.servlet.MultipleBrowserWindowsApplicationServlet</class>
      <mappings>
        <mapping>/.magnolia/admin-central</mapping>
        <mapping>/.magnolia/admin-central/*</mapping>
      </mappings>
      <params>
        <param>
          <name>application</name>
          <value>info.magnolia.ui.admincentral.AdminCentralApplication</value>
        </param>
        <param>
          <name>widgetset</name>
          <value>info.magnolia.ui.vaadin.widgetset.MagnoliaWidgetSet</value>
        </param>
        <param>
          <name>theme</name>
          <value>testtheme</value>
        </param>
      </params>
    </servlet>
    <servlet>
      <name>VaadinClasspathResourcesSpool</name>
      <class>info.magnolia.cms.servlets.ClasspathSpool</class>
      <mappings>
        <mapping>/VAADIN/*</mapping>
      </mappings>
      <params>
        <param>
          <name>resourcesRoot</name>
          <value>/VAADIN</value>
        </param>
      </params>
    </servlet>
  </servlets>
</module>
